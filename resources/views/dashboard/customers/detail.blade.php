@extends('dashboard.index')

@section('content')
<main class="moby__content-body bckd8 content-view-partner">

    <div class="div ctn-profile">

        <div class="div">
        <div class="in-head-table ">
                <div class="div clr-float">

                    <div class="brcumb wh-m-520">
                        <div class="tbl">
                            <div class="intbl">
                                <div class="div">

                                    <span class="sli_icon-folder"></span>
                                    <a href="/">
                                        <span>Dashboard</span>
                                    </a>
                                    <span class="bts">
                                        <span class="ic fas fa-circle"></span>
                                    </span>
                                    <a href="/dashboard/customers">
                                        <span>Customers</span>
                                    </a>
                                    <span class="bts">
                                        <span class="ic fas fa-circle"></span>
                                    </span>
                                    <span class="label">
                                        <span class="">Detail</span>
                                    </span>

                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
        </div>

        <div class="div content-top">
            
            <div class="card body-pd-0 boxssml">

                <!-- <div class="card-body">

                    <div class="nav-btn-r">
                        <div class="dropdown">
                            <a class="simple-dropdown" data-toggle="dropdown"><i class="icon-more_vert_outlined icon"></i></a>
                            <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left">
                                <a class="dropdown-item pdtb5 cmd-modal" href="#" data-toggle="modal" data-target="#modalname">
                                    <div class="div">
                                        <span>Sunting</span>
                                        <span class="ic-r sli_icon-pencil"></span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="div box pdt35">
                        <div class="div">
                            <div class="div ttl">
                                <span>
                                    <span class="aic vf">
                                        <span class="ic sli_icon-check sc"></span>
                                        <span class="ic sli_icon-clock vf"></span>
                                    </span>
                                </span>
                                <b class="fsize16">CV Herbindopersada</b>
                            </div>
                            <div class="div label">
                                <span class="ic sli_icon-badge"></span>
                                <span class="fsize14">Distributor</span>
                                <span class="dot brc w6"></span>
                                <span class="fsize12">INV/123/UDN</span>
                            </div>
                        </div>
                        <div class="div">
                            <div class="div clr-float">
                                <div class="fl-right label fsize12">
                                    <span class="fsize11 up-txt">Yono</span>
                                    <span class="dot brc w6"></span>
                                    <span>12 Nov 2021</span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div> -->

                <div class="card-body">
                    <div class="div box pdt35">
                        <div class="div">
                            <div class="div ttlx">
                                <div class="splash h20 splash-tbl w360"></div>
                            </div>
                            <div class="div label">
                                <span class="fsize14">
                                    <div class="w90">
                                        <div class="splash h15 splash-tbl"></div>
                                    </div>
                                </span>
                                <span class="fsize12">
                                    <div class="w90">
                                        <div class="splash h15 splash-tbl"></div>
                                    </div>
                                </span>
                            </div>
                        </div>
                        <div class="div">
                            <div class="div clr-float">
                                <div class="fl-right">
                                    <div class="div">
                                        <div class="w90">
                                            <div class="splash h15 splash-tbl"></div>
                                        </div>

                                        <div class="w90">
                                            <div class="splash h15 splash-tbl"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>

        <div class="div content-bottom">
            <div class="div clr-float">
                
                <div class="ctn-body fl-right">

                    <!-- <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="div box">
                                    <div class="tabs">
                                        <div class="nav nav-pills nav-danger" id="danger-v-pills-tab" role="tablist" aria-orientation="vertical">
                                            <a class="nav-link active" id="danger-v-pills-home-tab" data-toggle="pill" href="#danger-v-pills-home" role="tab" aria-controls="danger-v-pills-home" aria-selected="true">Admin</a>
                                            <a class="nav-link" id="danger-v-pills-profile-tab" data-toggle="pill" href="#danger-v-pills-profile" role="tab" aria-controls="danger-v-pills-profile" aria-selected="false">Alamat</a>
                                        </div>
                                    </div>
                                    <div class="tab-content mr-b-20" id="danger-v-pills-tabContent">

                                        <div class="tab-pane fade show active" id="danger-v-pills-home" role="tabpanel" aria-labelledby="danger-v-pills-home-tab">
                                            <div class="div">
                                                <div class="nav-btn-r t0 r0">
                                                    <div class="dropdown">
                                                        <a class="simple-dropdown" data-toggle="dropdown"><i class="icon-more_vert_outlined icon"></i></a>
                                                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left">
                                                        <a class="dropdown-item pdtb5 cmd-modal" href="#" data-toggle="modal" data-target="#modaladmin-partner">
                                                                <div class="div">
                                                                    <span>Sunting</span>
                                                                    <span class="ic-r sli_icon-pencil"></span>
                                                                </div>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="div box pd0">
                                                    <div class="div">
                                                        <div class="div ttl">
                                                            <span class="sli_icon-user"></span>
                                                            <b>Yono Cahyono</b>
                                                        </div>
                                                        <div class="div">
                                                            <div class="div">
                                                                <span class="dot w6 brc rt"></span>
                                                                <span>0867676</span>
                                                            </div>
                                                            <div class="div">
                                                                <span class="dot w6 brc rt"></span>
                                                                <span>yono@gmail.com</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="danger-v-pills-profile" role="tabpanel" aria-labelledby="danger-v-pills-profile-tab">
                                            <div class="div">
                                                <div class="nav-btn-r t0 r0">
                                                    <div class="dropdown">
                                                        <a class="simple-dropdown" data-toggle="dropdown"><i class="icon-more_vert_outlined icon"></i></a>
                                                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left">
                                                            <a class="dropdown-item pdtb5" href="#">
                                                                <div class="div">
                                                                    <span>Sunting</span>
                                                                    <span class="ic-r sli_icon-pencil"></span>
                                                                </div>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="div box pd0">
                                                    <div class="div">
                                                        <div class="div">
                                                            <div class="div">
                                                                <span>Jalan Cilangkap Raya</span>
                                                            </div>
                                                        </div>
                                                        <div class="div">
                                                            <span>Kecamatan Cipayung</span>
                                                            <span class="dot w6 brc"></span>
                                                            <span>Kota Jakarta Timur</span>
                                                        </div>
                                                        <div class="div">
                                                            <span>DKI JAKARTA</span>
                                                            <span class="dot w6 brc"></span>
                                                            <span>12345</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>
                    </div> -->

                    <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body h-nomaxh">
                                <div class="div box">
                                    <div class="tabs"> 
                                        <div class="w50">
                                            <div class="splash h15 splash-tbl"></div>
                                        </div>

                                        <div class="w50">
                                            <div class="splash h15 splash-tbl"></div>
                                        </div>
                                        
                                        <div class="w50" style="margin-left:30px">
                                            <div class="splash h15 splash-tbl"></div>
                                        </div>
                                        <div class="w50">
                                            <div class="splash h15 splash-tbl"></div>
                                        </div>
                                    </div>
                                    <div class="tab-content" id="danger-v-pills-tabContent">
                                        <div class="tab-pane fade show active" id="danger-v-pills-home" role="tabpanel" aria-labelledby="danger-v-pills-home-tab">
                                            <div class="div h15"></div>
                                            <div class="div">
                                                <div class="div box pd0">
                                                    <div class="div">
                                                        <div class="div ttl">
                                                            <div class="splash h18 splash-tbl w360"></div>
                                                        </div>
                                                        <div class="div ttl">
                                                            <div class="w90">
                                                                <div class="splash h15 splash-tbl"></div>
                                                            </div>

                                                            <div class="w90">
                                                                <div class="splash h15 splash-tbl"></div>
                                                            </div>
                                                        </div>
                                                        <div class="div h15"></div>
                                                        <div class="div ttl">
                                                            <div class="splash h18 splash-tbl w360"></div>
                                                        </div>

                                                        <div class="div ttl">
                                                            <div class="splash h15 splash-tbl w180"></div>
                                                        </div>

                                                        <div class="div ttl">
                                                            <div class="splash h15 splash-tbl w90"></div>
                                                        </div>
                                                        <div class="div h15"></div>
                                                        <div class="w90">
                                                                <div class="splash h15 splash-tbl"></div>
                                                            </div>
                                                        <div class="div ttl">
                                                            <div class="splash h15 splash-tbl w180"></div>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="ctn-body fl-left">

                    <!-- <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="nav-btn-r">
                                    <div class="dropdown">
                                        <a class="simple-dropdown" data-toggle="dropdown"><i class="icon-more_vert_outlined icon"></i></a>
                                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left">
                                            <a class="dropdown-item pdtb5 cmd-modal" href="#" data-toggle="modal" data-target="#modalowner">
                                                <div class="div">
                                                    <span>Sunting</span>
                                                    <span class="ic-r sli_icon-pencil"></span>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="div box">
                                    <div class="div">
                                        <div class="div label txud ttl">
                                            <span>Owner</span>
                                        </div>
                                        <div class="div">
                                            <div class="div">
                                                <span class="dot w6 brc rt"></span>
                                                <b>Yono Cahyono</b>
                                            </div>
                                            <div class="div">
                                                <span class="dot w6 brc rt"></span>
                                                <span>0867676</span>
                                            </div>
                                            <div class="div">
                                                <span class="dot w6 brc rt"></span>
                                                <span>yono@gmail.com</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                        </div>
                    </div> -->

                    <!-- <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="nav-btn-r">
                                    <div class="dropdown">
                                        <a class="simple-dropdown" data-toggle="dropdown"><i class="icon-more_vert_outlined icon"></i></a>
                                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left">
                                            <a class="dropdown-item pdtb5 cmd-modal" href="#" data-toggle="modal" data-target="#modalcontact">
                                                <div class="div">
                                                    <span>Sunting</span>
                                                    <span class="ic-r sli_icon-pencil"></span>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="div box">
                                    <div class="div">
                                        <div class="label txud ttl">
                                            <span>Kontak</span>
                                        </div>
                                        <div class="div">
                                            <div class="div">
                                                <span class="dot w6 brc rt"></span>
                                                <span>0867676</span>
                                            </div>
                                            <div class="div">
                                                <span class="dot w6 brc rt"></span>
                                                <span>email@gmail.com</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                        </div>
                    </div> -->

                    <!-- <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="nav-btn-r">
                                    <div class="dropdown">
                                        <a class="simple-dropdown" data-toggle="dropdown"><i class="icon-more_vert_outlined icon"></i></a>
                                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left">
                                            <a class="dropdown-item pdtb5 cmd-modal" href="#" data-toggle="modal" data-target="#modaladdress-partner">
                                                <div class="div">
                                                    <span>Sunting</span>
                                                    <span class="ic-r sli_icon-pencil"></span>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="div box">
                                    <div class="div">
                                        <div class="label txud ttl">
                                            <span>Alamat</span>
                                        </div>
                                        <div class="div">
                                            <div class="div">
                                                <div class="div">
                                                    <span>Jalan Cilangkap Raya</span>
                                                </div>
                                            </div>
                                            <div class="div">
                                                <span>Kecamatan Cipayung</span>
                                                <span class="dot w6 brc"></span>
                                                <span>Kota Jakarta Timur</span>
                                            </div>
                                            <div class="div">
                                                <span>DKI JAKARTA</span>
                                                <span class="dot w6 brc"></span>
                                                <span>12345</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                        </div>
                    </div> -->

                    <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="div box">
                                    <div class="div">
                                        <div class="div label txud ttl">
                                            <div class="splash h15 splash-tbl w50"></div>
                                        </div>
                                        <div class="div">
                                            <div class="div ttl">
                                                <div class="splash h18 splash-tbl w210"></div>
                                            </div>
                                            <div class="div">
                                                <div class="splash h15 splash-tbl w140"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                        </div>
                    </div>

                    <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="div box">
                                    <div class="div">
                                        <div class="div label txud ttl">
                                            <div class="splash h15 splash-tbl w50"></div>
                                        </div>
                                        <div class="div">
                                            <div class="div ttl">
                                                <div class="splash h18 splash-tbl w210"></div>
                                            </div>
                                            <div class="div">
                                                <div class="splash h15 splash-tbl w140"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                        </div>
                    </div>

                    <div class="div">
                        <div class="card body-pd-0 boxssml">
                            <div class="card-body">
                                <div class="div box">
                                    <div class="div">
                                        <div class="div label txud ttl">
                                            <div class="splash h15 splash-tbl w50"></div>
                                        </div>
                                        <div class="div">
                                            <div class="div ttl">
                                                <div class="splash h18 splash-tbl w210"></div>
                                            </div>
                                            <div class="div">
                                                <div class="splash h15 splash-tbl w140"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>

    <!-- <div class="notfound">
        <div class="div">
            <div class="div">
                <img src="{{$URI}}/assets/svg/empty.svg" alt="">
            </div>
            <div class="div">
                <h1>Waduh, yang kamu tuju tidak ditemukan!</h1>
            </div>
            <div class="div">
                <span class="label">Mungkin kamu salah alamat tujuan. Ayok kembali ke jalan yang benar.</span>
            </div>
            <div class="div">
                <a href="{{$URI}}" class="btnb bc-orange w210">
                    <span>Kembali</span>
                </a>
            </div>
        </div>
    </div> -->


    <!-- modal -->

    <!-- MODAL LABEL -->
    <div class="modal fade new-modal" id="modalname" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Informasi Umum</span>
                        </h2>
                        <div class="div">
                            <span class="label">Informasi Nama Partner dan Nomor Surat Perjanjian</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/partner/sunting/label">

                            <div class="div pd-lr30">
                                <div class="div">
                                    <span class="label">Nama atau label Partner</span>
                                    <div class="div ar-content">
                                        <input type="text" name="name" class="form-control br-rds8 " placeholder="Nama Partner">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <span class="label">Nomor Surat Perjanjian</span>
                                    <div class="div ar-content">
                                        <input type="text" name="nosurat" class="form-control br-rds8 " placeholder="Nomor Surat Perjanjian">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <div class="div pd10 bc-yw">
                                        <input type="text" name="expire_days" class="form-control br-rds8  w50 text-center" placeholder="0">
                                        <span class="ic sli_icon-info"></span>
                                        <span class="label">Batas akhir pembayaran (dalam hari)</span>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>

                    <div class="div h15"></div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds8" role="off">
                        <span>SIMPAN</span>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- MODAL KONTAK -->
    <div class="modal fade new-modal" id="modalcontact" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Kontak</span>
                        </h2>
                        <div class="div">
                            <span class="label">Sertakan informasi kontak Partner</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/partner/sunting/contact">

                            <div class="div pd-lr30">
                                <div class="div">
                                    <span class="label">Telepon</span>
                                    <div class="div ar-content">
                                        <input type="text" name="contact_phone" class="form-control br-rds8  w50p number" placeholder="Isikan nomor telepon">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <span class="label">Alamat Email</span>
                                    <div class="div ar-content">
                                        <input type="text" name="contact_email" class="form-control br-rds8 " placeholder="Isikan alamat email">
                                    </div>
                                </div>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>

                    <div class="div h15"></div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds8" role="off">
                        <span>SIMPAN</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL OWNER -->
    <div class="modal fade new-modal" id="modalowner" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Onwer</span>
                        </h2>
                        <div class="div">
                            <span class="label">Harap lengkapi informasi onwer</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/partner/sunting/owner">

                            <div class="div pd-lr30">
                                <div class="div">
                                    <span class="label">Nama Owner</span>
                                    <div class="div ar-content">
                                        <input type="text" name="owner_name" class="form-control br-rds8  owner-name-val" placeholder="Nama Owner">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <span class="label">Telepon</span>
                                    <div class="div ar-content">
                                        <input type="text" name="owner_phone" class="form-control br-rds8  owner-phone-val w50px number" placeholder="Telepon">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <span class="label">Email</span>
                                    <div class="div ar-content">
                                        <input type="text" name="owner_email" class="form-control br-rds8  owner-email-val" placeholder="Alamat Email">
                                    </div>
                                </div>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>

                    <div class="div h15"></div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds8" role="off">
                        <span>SIMPAN</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL ADDRESS -->
    <div class="modal fade new-modal" id="modaladdress-partner" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Alamat Partner</span>
                        </h2>
                        <div class="div">
                            <span class="label">Lengkapi alamat partner</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/partner/sunting/address">

                            <div class="div pd-lr30">

                                <div class="div">
                                    <span class="label">Alamat Lengkap</span>
                                    <div class="div ar-content">
                                        <textarea name="address" class="form-control br-rds8  noreseize h70 pd-tb0" placeholder="Isikan alamat lengkap"></textarea>
                                    </div>
                                </div>

                                <div class="div h18"></div>

                                <div class="div">
                                    <span class="label">Kota atau Kecamatan</span>
                                    <div class="div">
                                        <div class="field-city indropdown area-tsrc-dropdown alist" role="false" datatimer="1000">
                                            <div class="div ar-content">
                                                <input class="form-control br-rds8  txt-def-empty tsrc-dropdown label-dropdown" name="city" type="text" placeholder="Cari Kota atau Kecamatan">
                                                <input type="hidden" name="address_array" class="value-dropdown">
                                                
                                                <button class="cls cmd-clear-tsrc" role="off">
                                                    <span class="sli_icon-close"></span>
                                                </button>
                                            </div>
                                            <div class="dropdown dd-tsrc-dropdown">
                                                <div class="div inardropdown no-rd">
                                                    <ul></ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="div">
                                    <span class="label">Kodepos</span>
                                    <div class="div ar-content">
                                        <input type="text" name="address_kodepos" class="form-control br-rds8 address-kodepos-val w33p number" placeholder="Kodepos">
                                    </div>
                                </div>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>

                    <div class="div h15"></div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds8" role="off">
                        <span>SIMPAN</span>
                    </button>

                </div>
            </div>
        </div>
    </div>

    <!-- MODAL ADMIN -->
    <div class="modal fade new-modal" id="modaladmin-partner" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Admin</span>
                        </h2>
                        <div class="div">
                            <span class="label">Admin sebagai pengelola penuh pada dashboard aplikasi</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/partner/sunting/admin">

                            <div class="div pd-lr30">
                                <div class="div">
                                    <span class="label">Nama Admin</span>
                                    <div class="div ar-content">
                                        <input type="text" name="admin_name" class="form-control br-rds8 " placeholder="Nama Admin">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <span class="label">Email</span>
                                    <div class="div ar-content">
                                        <input type="text" name="admin_email" class="form-control br-rds8 " placeholder="Alamat Email">
                                    </div>
                                </div>
                                <div class="div h18"></div>
                                <div class="div">
                                    <span class="label">Whatsapp</span>
                                    <div class="div ar-content">
                                        <input type="text" name="admin_phone" class="form-control br-rds8  w50px number" placeholder="0878295xxx">
                                    </div>
                                </div>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="hidden" name="admin_id" value="">
                            <input type="hidden" name="admin_level" value="">
                            <input type="hidden" name="admin_sublevel" value="">

                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>

                    <div class="div h15"></div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds8" role="off">
                        <span>SIMPAN</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL CHANGE PRICE DISTRIBUTOR -->
    <div class="modal fade new-modal" id="modal-chpricedistributor" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15 pd-lr15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Tambahkan Update Harga</span>
                        </h2>
                        <div class="div">
                            <span class="label">Harga produk untuk distributor bisa di ubah sesuai dengan perjanjian kepada distributor</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/partner/sunting/chpricedistributor">

                            <div class="div">
                                <div class="div">
                                    <div class="div">
                                        <div class="ddwn area-ddwn keep">
                                            <button class="btn br-rds8 cddwn" role="off">
                                                <label><span class="fsize14 color-black">Pilih Produk</span></label>
                                            </button>
                                            <div class="ddwn-pg area-ddwn-page">
                                                <div class="ddwn-header">
                                                    <div class="inhd">
                                                        <button height="auto" type="button"></button>
                                                        <input type="text" placeholder="Cari Produk" class="ddwn-tsrc">
                                                    </div>
                                                </div>
                                                <ul>
                                                    <li aria-selected="false" dataid="1000001">
                                                        <button role="off"  dataid="1" dataprice="16.000"><span>button 1</span></button>
                                                    </li>
                                                    <li aria-selected="false" dataid="1000002">
                                                        <button role="off" dataid="2" dataprice="17.000"><span>button 2</span></button>
                                                    </li>
                                                </ul>
                                            </div>
                                            <input type="hidden" class="value-dropdown" name="distributor_product" value="">
                                        </div>
                                    </div>
                                </div>
                                <div class="div area-h-price">

                                    <div class="div h18"></div>
                                    <div class="div">
                                        <div class="div w50px">
                                            <span class="label hide font-wg25">Ubah harga dari <b class="font-wg5 color-black">Rp<span class="vlabel-price">0</span></b> menjadi</span>
                                            <div class="div ar-content">
                                                <input type="text" name="distributor_price" class="form-control br-rds8 rupiahkeyup" placeholder="Rp..." disabled="disabled">
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="hidden" name="status_price" value="false">
                            <input type="hidden" name="type" value="">
                            <input type="hidden" name="product_id" value="">
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds12" role="off">
                        <span>SIMPAN</span>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- MODAL BANK -->
    <div class="modal fade new-modal" id="modal-bankList" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15 pd-lr15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Tambah Daftar Bank</span>
                        </h2>
                        <div class="div">
                            <span class="label">Daftar bank yang akan ditampilkan sebagai bank pembayaran</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="/api/manage-global/sunting/bank">

                            <div class="div">
                                <div class="div">
                                    <div class="div">
                                        <div class="ddwn area-ddwn ar-content keep">
                                            <button class="btn br-rds8 cddwn" role="off">
                                                <label><span class="fsize14 color-black">Pilih Bank</span></label>
                                            </button>
                                            <div class="ddwn-pg area-ddwn-page">
                                                <div class="ddwn-header">
                                                    <div class="inhd">
                                                        <button height="auto" type="button"></button>
                                                        <input type="text" placeholder="Cari Bank" class="ddwn-tsrc">
                                                    </div>
                                                </div>
                                                <ul></ul>
                                            </div>
                                            <input type="hidden" class="value-dropdown txt-def-empty" name="bank_select" value="">
                                        </div>
                                    </div>
                                </div>

                                <div class="div">

                                    <div class="div h18"></div>
                                    <div class="div">
                                        <div class="divx">
                                            <span class="label font-wg25">Nama Pemilik Rekaning</span>
                                            <div class="div ar-content">
                                                <input type="text" name="bank_account" class="form-control br-rds8 txt-def-empty" placeholder="" >
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="div">

                                    <div class="div h18"></div>
                                    <div class="div">
                                        <div class="div">
                                            <span class="label font-wg25">Nomor Rekening</span>
                                            <div class="div ar-content">
                                                <input type="text" name="bank_norek" class="form-control br-rds8 number txt-def-empty w50px" placeholder="" maxlength="20">
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="hidden" name="type" value="">
                            <input type="hidden" name="payment_id" value="" class="txt-def-empty">
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds12" role="off">
                        <span>SIMPAN</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL GUDANG  -->
    <div class="modal fade new-modal" id="modal-gudangList" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w460" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18">Alamat Gudang Pengiriman</span>
                        </h2>
                        <div class="div">
                            <span class="label">Lokasi Alamat pengiriman order</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body pd-b0">
                    <div class="div">
                        <form action="/api/manage-global/sunting/gudang">

                            <div class="div pd-lr30">

                                <div class="div">
                                    <span class="label">Label Alamat</span>
                                    <div class="div ar-content">
                                        <input type="text" name="gudang_label" class="form-control br-rds8 txt-def-empty" placeholder="Cth: Gudang Herbindo, dll...">
                                    </div>
                                </div>


                                <div class="div h18"></div>

                                <div class="div">
                                    <span class="label">Kota atau Kecamatan</span>
                                    <div class="div">
                                        <div class="field-city indropdown area-tsrc-dropdown alist ar-content" role="false" datatimer="1000">
                                            <div class="div">
                                                <input class="form-control br-rds8  txt-def-empty tsrc-dropdown label-dropdown" name="city" type="text" placeholder="Cari Kota atau Kecamatan...">
                                                <input type="hidden" name="address_array" class="value-dropdown txt-def-empty">
                                                
                                                <button class="cls cmd-clear-tsrc" role="off">
                                                    <span class="sli_icon-close"></span>
                                                </button>
                                            </div>
                                            <div class="dropdown dd-tsrc-dropdown">
                                                <div class="div inardropdown no-rd">
                                                    <ul></ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="div"></div>

                                <div class="div">
                                    <span class="label">Alamat Lengkap</span>
                                    <div class="div ar-content">
                                        <textarea name="gudang_address" class="form-control br-rds8  noreseize h70 pd-tb0 txt-def-empty" placeholder=""></textarea>
                                    </div>
                                </div>
                                
                                <div class="div h18"></div>

                                <div class="div ">

                                    <div class="div clr-float">

                                        <div class="div fl-left w70min10p">
                                            <span class="label">Telepon</span>
                                            <div class="div ar-content">
                                                <input type="text" name="gudang_phone" class="form-control br-rds8 txt-def-empty number" placeholder="" maxlength="15">
                                            </div>
                                        </div>
    
                                        <div class="div fl-left w33p mg-l10">
                                            <span class="label">Kodepos</span>
                                            <div class="div ar-content">
                                                <input type="text" name="gudang_kodepos" class="form-control br-rds8 number txt-def-empty" placeholder="" maxlength="6">
                                            </div>
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <input type="hidden" name="type" value="">
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="hidden" name="gudang_id" class="txt-def-empty" value="" >
                            <input type="submit" value="Submit" class="hide">
                        </form>

                    </div>

                    <div class="div h15"></div>
                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn green modal-submit fix w110 is-loading br-rds8" role="off">
                        <span>SIMPAN</span>
                    </button>

                </div>
            </div>
        </div>
    </div>


    <!-- MODAL DELETE -->
    <div class="modal fade new-modal" id="modaldelete" data-action="" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog w420" role="document">
            <div class="modal-content br-rds12 pd-tb15">
                <div class="modal-header txt-center no-br">
                    <div class="div">
                        <h2 class="modal-title">
                            <span class="fsize18 label-title">Title</span>
                        </h2>
                        <div class="div">
                            <span class="label label-subtitle">Subtitle</span>
                        </div>
                    </div>
                    <button type="button" class="close pd-tbnull" style="position:absolute; right:20px;" data-dismiss="modal" aria-label="Close">
                        <span class="flaticon2-cross fsize12"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="div">
                        <form action="">

                            <div class="div text-center">

                                <span class="label-info">Info</span>

                            </div>
                            <input type="hidden" name="partner_id" class="partner_id" value="">
                            <input type="submit" value="Submit" class="hide">
                        
                            <div class="hide area-input">

                            </div>
                        </form>
                        
                    </div>

                </div>
                <div class="modal-footer no-br br-rdsb12">
                    
                    <button type="button" class="btn bc-red modal-submit fix w110 is-loading br-rds12" role="off">
                        <span>Ya, Hapus</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

</main>

<script>





$(document).ready(function()
{

    //get list bank
    function getbanklist()
    {
        $.ajax({
            type: 'GET',
            url: config.apps.URL_API + '/api/bank/list',
            headers: {
                'Content-Type':'application/json',
                'key':getaccount().key
            },
            cache: false,
            timeout: 18000,
            dataType: 'JSON',
            success: function(n)
            {
                var list = n.response;
                
                var li = '';
                $.each(list, function(i, item)
                {
                    li += '<li aria-selected="false" dataid="'+item.id+'"><button role="off"  dataid="'+item.id+'" ><span>BANK '+item.label+'</span></button></li>';
                })
                $('#modal-bankList').find('.area-ddwn-page ul').html(li);
                // console.log(list)
            },
            error: function(n)
            {
                console.log(n);
            }
        });
    }
    getbanklist();


    // content
    function vcontent(e)
    {
        // console.log(e);
        var q = e;
        var area = $('.content-view-partner');

        var contentTop = '<div class="nav-btn-r hide"><a class="cmd-modal" href="#" data-toggle="modal" data-target="#modalname"><div class="div"><span class="ic-r sli_icon-pencil"></span></div></a></div>';

        contentTop += '<div class="div box pdt35">';

                contentTop += '<div class="div">';

                contentTop += '<div class="div ttl">';
                contentTop += '<span class="icon-gender fsize12" role="'+q.gender+'"><span class="sli_icon-symbol-male ic-male"></span><span class="sli_icon-symbol-female ic-female"></span></span>';
                contentTop += '<b class="fsize16 label-name">'+q.name+'</b></div>';

                contentTop += '<div class="div fsize12"><span class="'+(q.progress_color)+' "><span class="ic fas fa-bookmark"></span><span class="fsize14">'+q.progress+'</span></span>';
                contentTop += '<span class="dot brc w6"></span>';
                contentTop += '<ul class="arr-ul">';
                if( q.taging !== null)
                {
                    $.each( q.taging, function(i,item) {
                        contentTop += '<li class="'+item.background+'">'+item.name+'</li>';
                    });
                }
                contentTop += '</ul>';
                contentTop += '</div>';

                contentTop += '<div class="div clr-float"><div class="fl-right label fsize12"><span class="fsize11 up-txt">'+q.admin+'</span><span class="dot brc w6"></span><span>'+q.date+'</span></div></div>';

        contentTop += '</div>';

        area.find('.content-top .card-body').html(contentTop);

        //content left
        var contentLeft = '';



        //content left kontak
        contentLeft += '<div class="div"><div class="card body-pd-0 boxssml"><div class="card-body">';
        
        contentLeft += '<div class="nav-btn-r hide"><a class="cmd-modal" href="#" data-toggle="modal" data-target="#modalcontact"><div class="div"><span class="ic-r sli_icon-pencil"></span></div></a></div>';

        contentLeft += '<div class="div box"><div class="div"><div class="div label txud ttl"><span>Kontak</span></div><div class="div">';

        contentLeft += '<div class="div"><span class="dot w6 brc rt"></span><span class="label-contact_phone">'+q.phone+'</span></div>';

        contentLeft += '<div class="div '+( q.email === '' ? 'hide' : '')+'"><span class="dot w6 brc rt"></span><span class="label-contact_email">'+q.email+'</span></div>';

        contentLeft +=' </div></div></div></div></div></div>';


        //progress
        contentLeft += '<div class="div"><div class="card body-pd-0 boxssml"><div class="card-body">';

            contentLeft += '<div class="div box"><div class="div"><div class="div label txud ttl"><span>Alamat</span></div><div class="div">';

            contentLeft += '<div class="div">';
                contentLeft += '<ul class="ul"><li class="empty txt-center"><div class="div"><span class="label">Customer belum memiliki alamat</span></div><div class="div"><button class="br-rds12 nobr green">Tambah</button></div></li></ul>';
            contentLeft += '</div>';

        contentLeft += '</div></div></div>';


        //view left
        area.find('.content-bottom .ctn-body.fl-left').html(contentLeft);

        
        //CONTENT RIGHT
        var contentRightTab = '';

        contentRightTab +='<div class="nav nav-pills nav-danger" id="danger-v-pills-tab" role="tablist" aria-orientation="vertical">';

            contentRightTab += '<a class="nav-link active" id="danger-v-pills-rekbank-tab" data-toggle="pill" href="#danger-v-pills-rekbank" role="tab" aria-controls="danger-v-pills-rekbank" aria-selected="false"><span class="ic sli_icon-bag"></span><span>Riwayat Belanja</span></a>';

            contentRightTab += '<a class="nav-link" id="danger-v-pills-origin-tab" data-toggle="pill" href="#danger-v-pills-origin" role="tab" aria-controls="danger-v-pills-origin" aria-selected="false"><span class="ic sli_icon-clock"></span><span>Log</span></a>';


        contentRightTab += '</div>';
        area.find('.content-bottom .ctn-body.fl-right .tabs').html(contentRightTab);

        //tab content admin

        var contentTab = '';

        // tab bank
        contentTab += '<div class="tab-pane fade show active" id="danger-v-pills-rekbank" role="tabpanel" aria-labelledby="danger-v-pills-rekbank-tab"><div class="div">'; 

            contentTab += '<div class="div">';
            if( q.orders === null )
            {
                contentTab += '<ul class="ul"><li class="empty txt-center"><div class="div"><img src="/assets/svg/empty.svg" /></div><div class="div"><span class="label">Belum ada order</span></div><div class="div"></li></ul>';
            }
            else
            {
                contentTab += '<ul class="ul">';
                $.each(q.orders, function(i,item)
                {
                    contentTab += '<li class="list '+(i % 2 === 0 ? '' : 'sling')+' ">';
                    contentTab += '<div class="div clr-float"><div class="fl-left">#<b>'+item.invoice+'</b></div><div class="fl-right fsize12 label">'+item.date+'</div></div>';
                    contentTab += '<div class="div label">Produk: '+item.product.item+'</div>';
                    contentTab += '</li>';
                })
                
                contentTab += '</ul>';

            }
            contentTab += '</div>';

        contentTab += '</div></div>';
        // end tab bank

        // tab gudang
        contentTab += '<div class="tab-pane fade" id="danger-v-pills-origin" role="tabpanel" aria-labelledby="danger-v-pills-origin-tab"><div class="div">'; 

            contentTab += '<div class="div">';
                contentTab += '<ul class="ul">';
                $.each(q.log, function(i,item)
                {
                    contentTab += '<li class="list role">';
                    contentTab += '<div class="div clr-float"><div class="fl-left"><b>'+item.title+'</b></div><div class="fl-right fsize12 label">'+item.date+'</div></div>';
                    contentTab += '<div class="div label">'+item.body+'</div>';
                    contentTab += '</li>';
                })
                
                contentTab += '</ul>';
            contentTab += '</div>';

        contentTab += '</div></div>';
        // end tab gudang
        
        area.find('.content-bottom .ctn-body.fl-right .tab-content').html(contentTab);
    }


    function listTabNorek(e)
    {

        var tabNorek = $('#danger-v-pills-rekbank'), liNorek = '';

        //list bank
        if( e === '')
        {
            tabNorek.find('.box-tabing').attr('role', 'false');
            return;
        }

        $.each(e, function(i, item)
        {
            liNorek += '<li class="'+ ( i % 2 === 0 ? 'sling' : '') +'">';
                liNorek += '<div class="div clr-float">';
                    liNorek += '<div class="fl-left">';
                        liNorek += '<div class="div"><div class="div"><b class="label-name">BANK '+item.name+'</b></div><div class="div fsize12"><span class="up-txt">'+ item.account_name+' - '+item.account_norek+'</span></div></div>';
                    liNorek += '</div>';
 

                    liNorek += '<div class="fl-right"><div class="dropdown"><a class="simple-dropdown" data-toggle="dropdown" aria-expanded="false"><span class="flaticon-more-1"></span></a><div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" style="will-change: transform;">';
                    
                        liNorek += '<a class="dropdown-item pdtb5 cmd-modal" data-toggle="modal" data-target="#modal-bankList" data-type="edit" dataid="'+item.id+'" data-bank_id="'+item.bank_id+'" data-label="BANK '+item.name+'" data-account="'+item.account_name+'" data-norek="'+item.account_norek+'"><div class="div"><span>Sunting</span><span class="ic-r sli_icon-pencil"></span></div></a>';
                        
                        liNorek += '<a class="dropdown-item pdtb5 cmd-modal color-red" href="#" data-toggle="modal" data-target="#modaldelete" dataid="'+item.id+'" data-title="Hapus" data-action="listTabNorek" data-subtitle="Proses tidak bisa dibatalkan setelah berhasil dihapus" data-info="Anda yakin ingin menghapus <b> BANK '+item.name+'</b>?" data-url="/api/manage-global/sunting/delete-bank"><div class="div"><span>Hapus</span><span class="ic-r sli_icon-trash"></span></div></a>';
                    
                    liNorek +='</div></div></div>';

                liNorek += '</div>';
            liNorek +='</li>';
        });


        tabNorek.find('.box-tabing').attr('role', 'true');
        tabNorek.find('.box-tabing ul').html( liNorek );
    }

    function listTabOrigin(e)
    {

        // console.log(e);

        var tabOrigin = $('#danger-v-pills-origin'), liOrigin = '';
        // list origin
        if( e === '')
        {
            tabOrigin.find('.box-tabing').attr('role', 'false');
            return;
        }
        $.each(e, function(i, item)
        {
            liOrigin += '<li class="'+ ( i % 2 === 0 ? 'sling' : '') +'">';
                liOrigin += '<div class="div clr-float">';
                    liOrigin += '<div class="fl-left">';
                        liOrigin += '<div class="div">';
                            liOrigin += '<div class="div"><b class="label-name">'+item.name+'</b></div>';
                            liOrigin += '<div class="div fsize12"><span>'+ item.address+' ('+item.phone+')</span></div>';
                            liOrigin += '<div class="div fsize12"><span>'+ item.kecamatan.name+' - '+item.city.name+'</span></div>';
                            liOrigin += '<div class="div fsize12"><span>'+ item.provinsi.name+' '+item.kodepos+'</span></div>';
                        liOrigin += '</div>';
                    liOrigin += '</div>';
 

                    liOrigin += '<div class="fl-right"><div class="dropdown"><a class="simple-dropdown" data-toggle="dropdown" aria-expanded="false"><span class="flaticon-more-1"></span></a><div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" style="will-change: transform;">';
                    
                        liOrigin += '<a class="dropdown-item pdtb5 cmd-modal" data-toggle="modal" data-target="#modal-gudangList" data-type="edit" dataid="'+item.id+'" data-label="'+item.name+'" data-kodepos="'+item.kodepos+'" data-address_array="'+item.address_array+'" data-address="'
                        +item.address+'" data-phone="'+item.phone+'" data-address_label="'+item.address_label+'"><div class="div"><span>Sunting</span><span class="ic-r sli_icon-pencil"></span></div></a>';
                        
                        liOrigin += '<a class="dropdown-item pdtb5 cmd-modal color-red" href="#" data-toggle="modal" data-target="#modaldelete" dataid="'+item.id+'" data-title="Hapus" data-subtitle="Proses tidak bisa dibatalkan setelah berhasil dihapus" data-info="Anda yakin ingin menghapus <b>'+item.name+'</b>?" data-url="/api/manage-global/sunting/delete-gudang" data-action="listTabOrigin"><div class="div"><span>Hapus</span><span class="ic-r sli_icon-trash"></span></div></a>';
                    
                    liOrigin +='</div></div></div>';

                liOrigin += '</div>';
            liOrigin +='</li>';
        });


        tabOrigin.find('.box-tabing').attr('role', 'true');
        tabOrigin.find('.box-tabing ul').html( liOrigin );
    }

    function getprofile()
    {

        var tokenu = window.location.href,
        tokenu = tokenu.split("customers/");

        var contenttop = '';

        var $URL = config.apps.URL_API + '/api/customers/detail?token=' + tokenu[1];

        var $t = FormSending('','GET','key','',$URL);
        $t.success(function(n)
        {
            console.log(n);
            vcontent(n.response);
        });
        $t.error(function(n)
        {
            console.log(n);
        });

        // $.ajax({
        //     type: "GET",
        //     url: config.apps.URL_API + "/api/manage-global/detail?id=" + getaccount().config.company_id +'&type=' + getaccount().level,
        //     headers: {
        //         "Content-Type":"application/json",
        //         "key":getaccount().key
        //     },
        //     cache: false,
        //     timeout: 18000,
        //     dataType: "JSON",
        //     success: function(n)
        //     {
        //         // console.log(n);
        //         vcontent(n.response);
        //         // listTabNorek(n.response.bank_list);
        //         // listTabOrigin(n.response.origin_list);
        //         // $('body').find('*[name="partner_id"]').val(getaccount().config.company_id);

        //     },
        //     error: function(n)
        //     {
        //         console.log(n.status)
        //         // var link = config.apps.URL + '/dashboard/partner';
        //         // var content = pageNotFound(link);

        //         // $('.moby__content-body').html(content);
                
        //     }
        // })
    }
    // call profile
    getprofile();



    //modal delete
    $('body').on('click', '.cmd-modal[data-target="#modaldelete"]', function()
    {
        var cmd = $(this),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body'),
        action = cmd.attr('data-action');

        //
        $(modal).find('form').attr('action', cmd.attr('data-url'));
        $(modal).find('form .area-input').html('');
        $(modal).find('form .area-input').html('<input type="hidden" name="id" value="'+cmd.attr('dataid')+'" />');
        $(modal).find('.label-title').html(cmd.attr('data-title'));
        $(modal).find('.label-subtitle').html(cmd.attr('data-subtitle'));
        $(modal).find('.label-info').html(cmd.attr('data-info'));
        $(modal).attr('data-action', action);
        
    });
    
    //modal
    // modal notename
    $('body').on('click', '.cmd-modal[data-target="#modalname"]', function()
    {
        var cmd = $(this),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        //

        $(modal).find('input[name="name"]').val(card.find('.label-name').html());
        $(modal).find('input[name="nosurat"]').val(card.find('.label-nosurat').html());
        $(modal).find('input[name="expire_days"]').val(card.find('.label-expire').html());
        
    });


    //modal kontak
    $('body').on('click', '.cmd-modal[data-target="#modalcontact"]', function()
    {
        var cmd = $(this),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        //

        $(modal).find('input[name="contact_phone"]').val(card.find('.label-contact_phone').html());
        $(modal).find('input[name="contact_email"]').val(card.find('.label-contact_email').html());
        
    });


    // modal onwer
    $('body').on('click', '.cmd-modal[data-target="#modalowner"]', function()
    {
        var cmd = $(this),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        //

        $(modal).find('input[name="owner_name"]').val(card.find('.label-owner_name').html());
        $(modal).find('input[name="owner_phone"]').val(card.find('.label-owner_phone').html());
        $(modal).find('input[name="owner_email"]').val(card.find('.label-owner_email').html());
        
    });


    // modal address
    $('body').on('click', '.cmd-modal[data-target="#modaladdress-partner"]', function()
    {
        var cmd = $(this),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        //

        $(modal).find('textarea[name="address"]').val(card.find('.label-address').html());
        $(modal).find('input[name="city"]').val(card.find('.label-address_kecamatan').html() + ', ' + card.find('.label-address_city').html() + ', ' + card.find('.label-address_provinsi').html());
        $(modal).find('input[name="address_kodepos"]').val(card.find('.label-address_kodepos').html());
        $(modal).find('input[name="address_array"]').val(card.find('.label-address_array').html());
        $(modal).find('button.cmd-clear-tsrc').show();
        
    });


    //modal admin partner
    $('body').on('click', '.cmd-modal[data-target="#modaladmin-partner"]', function()
    {
        var cmd = $(this),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        //

        $(modal).find('input[name="admin_name"]').val(card.find('.label-admin_name').html());
        $(modal).find('input[name="admin_email"]').val(card.find('.label-admin_email').html());
        $(modal).find('input[name="admin_phone"]').val(card.find('.label-admin_phone').html());
        $(modal).find('input[name="admin_level"]').val(card.find('.label-admin_level').val());
        $(modal).find('input[name="admin_sublevel"]').val(card.find('.label-admin_sublevel').val());
        $(modal).find('input[name="admin_id"]').val(card.find('.label-admin_id').val());

        
    });


    //modal change price distributor
    $('body').on('click', '.cmd-modal[data-target="#modal-chpricedistributor"]', function()
    {
        var cmd = $(this),
        type = cmd.attr('data-type'),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        modal.find('input[name="type"]').val(type);
        modal.find('label.error').remove();
        modal.find('.br-error').removeClass('br-error');
        modal.find('.area-ddwn-page li').attr('aria-selected','false');

        if( type === 'add')
        {
            modal.find('.modal-title span').html('Tambah Update Harga');
            modal.find('.area-ddwn button.btn').removeAttr('disabled');
            modal.find('.area-ddwn button.btn span').html('Pilih Produk');
            modal.find('.area-h-price span.label').addClass('hide');
            modal.find('input[name="distributor_price"]').val('');
            modal.find('input[name="distributor_price"]').attr('disabled','disabled');
            modal.find('input[name="product_id"]').val('');
            modal.find('input[name="distributor_product"]').val('');
            modal.find('input[name="status_price"]').val('false');

        }
        else
        {
            
            // modal.find('.ddwn-header li').attr('aria-selected','false');
            modal.find('.modal-title span').html('Perbarui Update Harga');
            modal.find('.area-ddwn button.btn').attr('disabled','disabled');
            modal.find('li[dataid="'+cmd.attr('dataid')+'"]').attr('aria-selected','true');
            modal.find('.area-ddwn button.btn span').html(cmd.attr('data-label'));
            modal.find('.vlabel-price').html(cmd.attr('data-price'));
            modal.find('.area-h-price span.label').removeClass('hide');
            modal.find('input[name="distributor_price"]').val(cmd.attr('data-uprice'));
            modal.find('input[name="distributor_price"]').removeAttr('disabled');
            modal.find('input[name="product_id"]').val(cmd.attr('dataid'));
            modal.find('input[name="distributor_product"]').val(cmd.attr('dataid'));
            modal.find('input[name="status_price"]').val('true');
        }
        // //
        // console.log(cmd.attr('data-type'));
        
    });

    // modal bank
    $('body').on('click', '.cmd-modal[data-target="#modal-bankList"]', function()
    {
        var cmd = $(this),
        type = cmd.attr('data-type'),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        modal.find('input[name="type"]').val(type);
        modal.find('label.error').remove();
        modal.find('.br-error').removeClass('br-error');
        modal.find('.area-ddwn-page li').attr('aria-selected','false');

        if( type === 'add')
        {
            modal.find('.modal-title span').html('Tambah Bank Pembayaran');
            modal.find('.area-ddwn button.btn').removeAttr('disabled');
            modal.find('.area-ddwn button.btn span').html('Pilih Bank');
            textDefEmpty(modal);

        }
        else
        {
            modal.find('.modal-title span').html('Perbarui Bank Pembayaran');
            modal.find('.area-ddwn button.btn').attr('disabled','disabled');
            modal.find('li[dataid="'+cmd.attr('dataid')+'"]').attr('aria-selected','true');
            modal.find('.area-ddwn button.btn span').html(cmd.attr('data-label'));
            modal.find('input[name="bank_account"]').val(cmd.attr('data-account'));
            modal.find('input[name="bank_norek"]').val(cmd.attr('data-norek'));
            modal.find('input[name="payment_id"]').val(cmd.attr('dataid'));
            modal.find('input[name="bank_select"]').val(cmd.attr('data-bank_id'));
        }
        
        
    });

    // modal gudang
    $('body').on('click', '.cmd-modal[data-target="#modal-gudangList"]', function()
    {
        var cmd = $(this),
        type = cmd.attr('data-type'),
        tr = cmd.parents('.tr'),
        modal = $(cmd.attr('data-target')),
        card = cmd.parents('.card-body');

        modal.find('input[name="type"]').val(type);
        modal.find('label.error').remove();
        modal.find('.br-error').removeClass('br-error');
        modal.find('.area-ddwn-page li').attr('aria-selected','false');

        if( type === 'add')
        {
            modal.find('button.cmd-clear-tsrc').removeAttr('style');
            textDefEmpty(modal);

        }
        else
        {
            modal.find('input[name="gudang_label"]').val(cmd.attr('data-label'));
            modal.find('input[name="city"]').val(cmd.attr('data-address_label'));
            modal.find('input[name="address_array"]').val(cmd.attr('data-address_array'));
            modal.find('textarea[name="gudang_address"]').val(cmd.attr('data-address'));
            modal.find('input[name="gudang_phone"]').val(cmd.attr('data-phone'));
            modal.find('input[name="gudang_kodepos"]').val(cmd.attr('data-kodepos'));
            modal.find('button.cmd-clear-tsrc').show();
            modal.find('input[name="gudang_id"]').val(cmd.attr('dataid'));
        }
        
        
    });


    // submit
    $.validator.addMethod("customemail", function(t, n)
    {
            t=t.trim();
            var r= $(n).prop("required"),
            i=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t);
            return r?""!==t&&i:""===t||i
    }, "Sorry, I've enabled very strict email validation");

    //
    $.validator.addMethod("selectoptmin", function(value, element, arg)
    {
        return arg !== value;
    }, "Value must not equal arg.");

    //
    $.validator.addMethod("notnullhidden", function(value, element, arg)
    {
        return arg !== value;

    }, "Value must not equal arg.");


    //
    $('body').on('click', '.modal-submit', function(e)
    {
        e.preventDefault();

        var cmd = $(this),
        modal = cmd.parents('.new-modal.show'),
        form = modal.find('form');

        form.submit();
        

    });


    // keyup expire days
    $('input[name="expire_days"]').keyup(function(e)
    {   
        numbFNoZeroWO($(this));
    });


    //submit modal name 
    $('#modalname form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');


        form.validate(validateformname);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitlabel(form);
        }

    });

    // valiadte form name
    var validateformname = 
    {
        
        rules:{
            name:{
                required:!0,
                minlength:5,
                normalizer:r,
            },
            nosurat:{
                required:!0,
                minlength:5,
                normalizer:r,
            }
            
        },
        messages:{
            name:'Harus diisi sekurangnya 5 karakter',
            nosurat:'Harap diisi nomor surat perjanjian',
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
            // console.log(n);
        }
        
    }


    // cek submit form name
    function ceksubmitlabel(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');


            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    

                    if( parseFloat( form.find('input[name="expire_days"]').val() ) === 0 )
                    {
                        card.find('.label-expire').parents('.fl-left').addClass('hide');
                    }
                    else
                    {
                        card.find('.label-expire').parents('.fl-left').removeClass('hide');
                    }

                    card.find('.label-name').html(form.find('input[name="name"]').val());
                    card.find('.label-nosurat').html(form.find('input[name="nosurat"]').val());
                    card.find('.label-expire').html(form.find('input[name="expire_days"]').val());

                    //
                    modal.find('button.close').click();
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                },
                error: function(n)
                {
                    // console.log(n);
                    flagnofig('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off');
                }
            });

        }



    }


    //submit modal contact 
    $('#modalcontact form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');


        form.validate(validateformcontact);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitcontact(form);
        }

    });

    // valiadte form contact
    var validateformcontact = 
    {
        
        rules:{
            contact_phone:{
                required:!0,
                normalizer:r,
                number: true,
                minlength:9
            },
            contact_email:{
                customemail:!0,
                required:  {
                    depends:function(t){
                        return $(t).prop("required")
                    }
                }
            }
        },
        messages:{
            contact_phone:'Harus diisi sekurangnya 5 karakter',
            contact_email:'Harus diisi dengan alamat email valid',
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
            // console.log(n);
        }
        
    }


    // cek submit form contact
    function ceksubmitcontact(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');


            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    

                    if( $.trim( form.find('input[name="contact_email"]').val() ) === '' )
                    {
                        card.find('.label-contact_email').parent('.div').addClass('hide');
                    }
                    else
                    {
                        card.find('.label-contact_email').parent('.div').removeClass('hide');
                    }

                    //
                    card.find('.label-contact_phone').html(form.find('input[name="contact_phone"]').val());
                    card.find('.label-contact_email').html(form.find('input[name="contact_email"]').val());

                    //
                    modal.find('button.close').click();
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }
                },
                error: function(n)
                {
                    // console.log(n);
                    flagnofig('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off');
                }
            });

        }



    }


     //submit modal owner 
     $('#modalowner form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');


        form.validate(validateformowner);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitowner(form);
        }

    });

    // valiadte form owner
    var validateformowner = 
    {
        
        rules:{
            owner_name:{
                required:!0,
                normalizer:r,
                minlength:3
            },
            owner_phone:{
                required:!0,
                normalizer:r,
                number: true,
                minlength:9
            },
            owner_email:{
                customemail:!0,
                required:  {
                    depends:function(t){
                        return $(t).prop("required")
                    }
                }
            }
        },
        messages:{
            owner_name:'Isikan sekurangnya 3 karakter',
            owner_phone:'Isikan dengan nomor telepon',
            owner_email:'Harus diisi dengan alamat email valid',
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
        }
        
    }


    // cek submit form owner
    function ceksubmitowner(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');


            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    


                    if( $.trim( form.find('input[name="owner_email"]').val() ) === '' )
                    {
                        card.find('.label-owner_email').parent('.div').addClass('hide');
                    }
                    else
                    {
                        card.find('.label-owner_email').parent('.div').removeClass('hide');
                    }
                    
                    card.find('.label-owner_name').html(form.find('input[name="owner_name"]').val());
                    card.find('.label-owner_phone').html(form.find('input[name="owner_phone"]').val());
                    card.find('.label-owner_email').html(form.find('input[name="owner_email"]').val());

                    //
                    modal.find('button.close').click();
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                },
                error: function(n)
                {
                    // console.log(n);
                    flagnofig('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off');
                }
            });

        }



    }


    //submit modal administator 
    $('#modaladmin-partner form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');


        form.validate(validateformadmin);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitadmin(form);
        }

    });

    // valiadte form administator
    var validateformadmin = 
    {
        
        rules:{
            admin_name:{
                required:!0,
                minlength:3,
                normalizer:r
            },
            admin_email:{
                required:!0,
                customemail:!0
            },
            admin_phone:{
                required:!0,
                normalizer:r,
                number: true,
                minlength:9
            },
        },
        messages:{
            admin_name:'Harap isikan nama sekurangnya 3 karakter',
            admin_email:'Harap gunakan email valid',
            admin_phone: "Harap isikan nomor whatsapp dengan benar",
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
        }
        
    }


    // cek submit form administator
    function ceksubmitadmin(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');


            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    

                    
                    card.find('.label-admin_name').html(form.find('input[name="admin_name"]').val());
                    card.find('.label-admin_phone').html(form.find('input[name="admin_phone"]').val());
                    card.find('.label-admin_email').html(form.find('input[name="admin_email"]').val());

                    //
                    modal.find('button.close').click();
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                },
                error: function(n)
                {
 
                    if( n.status === 401)
                    {
                        
                        var focus = form.find('input[name="'+n.responseJSON.focus+'"]');
                        focus.parents('.ar-content').append('<label class="error">'+n.responseJSON.message+'</label>');
                        focus.addClass('error');
                        focus.focus();
                    }
                    else
                    {
                        flagnotif('error', n.responseJSON.message);
                    }

                    button.attr('role', 'off');
                }
            });

        }



    }

    //submit modal address 
    $('#modaladdress-partner form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');


        form.validate(validateformaddress);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitaddress(form);
        }

    });

    // valiadte form address
    var validateformaddress = 
    {
        
        rules:{
            address:{
                required:!0,
                minlength:10,
                normalizer:r
            },
            address_kodepos:{
                required:!0,
                normalizer:r,
                number: true,
                minlength:5
            },
            address_array:{
                notnullhidden : '',
            },
            city:{
                required:!0,
                normalizer:r
            },
        },
        messages:{
            address:'Harap isikan alamat sekurangnya 10 karakter',
            address_kodepos:'Harap isi kodepos',
            address_array: "Pilih Kota atau Kecamatan",
            city: "Pilih Kota atau Kecamatan",
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
        }
        
    }


    
    // cek submit form distributor pice
    function ceksubmitaddress(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');

            var addresslabel = form.find('input[name="city"]').val().split(',');


            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    

                    
                    card.find('.label-address').html(form.find('textarea[name="address"]').val());
                    card.find('.label-address_kecamatan').html(addresslabel[2]);
                    card.find('.label-address_city').html(addresslabel[1]);
                    card.find('.label-address_provinsi').html(addresslabel[0]);
                    card.find('.label-address_kodepos').html(form.find('input[name="address_kodepos"]').val());
                    
                    //
                    modal.find('button.close').click();
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                },
                error: function(n)
                {
                    // console.log(n);
                    flagnofig('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off');
                }
            });

        }



    }


    //
    $('button.cddwn').click(function(e)
    {
        e.stopPropagation();
        e.preventDefault();

        dropdownNew($(this));
    });

    //
    $('body').on('click', '.area-ddwn ul li button', function(e)
    {

        e.stopPropagation();
        e.preventDefault();

        var cmd = $(this),
        form = cmd.parents('form');

        selectedDDWN(cmd);

        //
        form.find('.area-h-price span.label b span').html(cmd.attr('dataprice'));
        form.find('.area-h-price span.label').removeClass('hide');
        form.find('.area-h-price input').removeAttr('disabled');
        form.find('.area-h-price input').focus();

    });

    //
    $('.area-ddwn .ddwn-tsrc').keyup(function(e)
    {
        e.stopPropagation();

        srcDDWN($(this));
    });


    $('#modal-chpricedistributor input[name="distributor_price"]').keyup(function()
    {
        var price = $(this),
        modal = price.parents('#modal-chpricedistributor'),
        price2 = parseFloat(cnumber(modal.find('.vlabel-price').html()));

        numbFNoZero($(this));

        modal.find('label.error').remove();
        if( parseFloat(cnumber(price.val())) >= price2 )
        {
            
            price.addClass('error');
            price.parents('.ar-content').append('<label class="error">Harga yang di input harus lebih kecil</label>');
            modal.find('input[name="status_price"]').val('false');

            return;
        }

        
        modal.find('input[name="status_price"]').val('true');
        price.removeClass('error');
        price.parents('.ar-content').find('label.error').remove();


    });

    //submit modal distributor pice
    $('#modal-chpricedistributor form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');

    
        ceksubmitdistributorprice(form);

    });


    // cek submit form address
    function ceksubmitdistributorprice(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');

        if( $.trim(form.find('input[name="distributor_product"]').val()) === '')
        {
            form.find('label.error').remove();
            form.find('input[name="distributor_product"]').parents('.ar-content').append('<label class="error">Harap pilih produk terlebih dulu</label>');
            form.find('input[name="distributor_product"]').parents('.ar-content').find('button.btn').addClass('br-error');
            form.find('input[name="distributor_product"]').parents('.ar-content').find('button.btn').focus();
            return;
        }

        if( $.trim(form.find('input[name="distributor_price"]').val()).length < 5 )
        {

            
            form.find('label.error').remove();
            form.find('input[name="distributor_price"]').addClass('error');
            form.find('input[name="distributor_price"]').parents('.ar-content').append('<label class="error">Harap tentukan harga distributor dengan benar</label>');
            form.find('input[name="distributor_price"]').focus();

            return;
        }

        if( form.find('input[name="status_price"]').val() === 'false' && $.trim(form.find('input[name="distributor_price"]').val()) !== '' )
        {

            form.find('label.error').remove();
            form.find('input[name="distributor_price"]').addClass('error');
            form.find('input[name="distributor_price"]').parents('.ar-content').append('<label class="error">Harga yang di input harus lebih kecil</label>');
            form.find('input[name="distributor_price"]').focus();
            return;
        }

        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');

            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                    //
                    vListDistPrice(n.list,1);

                    if( form.find('input[name="type"]').val() === 'add')
                    {
                        modal.find('.area-ddwn button.btn').removeAttr('disabled');
                        modal.find('.area-ddwn button.btn span').html('Pilih Produk');
                        modal.find('.area-h-price span.label').addClass('hide');
                        modal.find('input[name="distributor_price"]').val('');
                        modal.find('input[name="distributor_price"]').attr('disabled','disabled');
                        modal.find('input[name="product_id"]').val('');
                        modal.find('input[name="distributor_product"]').val('');
                        modal.find('input[name="status_price"]').val('false');

                    }
                    else
                    {
                        modal.find('button.close').click();
                    }


                },
                error: function(n)
                {
                    // console.log(n);
                    if( n.status === 401)
                    {
                        form.find('label.error').remove();
                        form.find('button.btn').addClass('br-error');
                        form.find('button.btn').parents('.ar-content').append('<label class="error">'+n.responseJSON.message+'</label>');
                        button.attr('role', 'off'); 
                        return;
                    }
                    

                    flagnotif('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off'); 

                }
            });

        }



    }


    //submit modal bank list
    $('#modal-bankList form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');

        if( $.trim(form.find('input[name="bank_select"]').val()) === '')
        {
            form.find('span.error').remove();
            form.find('input[name="bank_select"]').parents('.ar-content').append('<span class="error">Harap pilih BANK terlebih dulu</span>');
            form.find('input[name="bank_select"]').parents('.ar-content').find('button.btn').addClass('br-error');
            form.find('input[name="bank_select"]').parents('.ar-content').find('button.btn').focus();

        }


        form.validate(validatebanklist);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitbanklist(form);
        }

    });

    // validate bank list
    var validatebanklist = 
    {
        
        rules:{
            bank_account:{
                required:!0,
                normalizer:r
            },
            bank_norek:{
                required:!0,
                normalizer:r,
                number: true
            }
        },
        messages:{
            bank_account:'Harap isi terlebih dulu',
            bank_norek: "Harap isi terlebih dulu"
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
        }
        
    }


    // cek submit form address
    function ceksubmitbanklist(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');

            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    button.attr('role', 'off');
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                    //reload in tab
                    listTabNorek(n.list);
                    if( form.find('input[name="type"]').val() === 'add')
                    {
                        modal.find('.area-ddwn button.btn span').html('Pilih Bank');
                        textDefEmpty(modal);
                        
                    }
                    else
                    {
                        modal.find('button.close').click();
                    }


                },
                error: function(n)
                {
                    // console.log(n);
                    if( n.status === 401)
                    {
                        form.find('label.error').remove();
                        form.find('span.error').remove();
                        form.find('*[name="'+n.responseJSON.focus+'"]').addClass('error');
                        form.find('*[name="'+n.responseJSON.focus+'"]').parents('.ar-content').append('<label class="error">'+n.responseJSON.message+'</label>');
                        button.attr('role', 'off'); 
                        return;
                    }
                    

                    flagnotif('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off'); 

                }
            });

        }



    }

    //submit modal bank list
    $('#modal-gudangList form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit');

        //validate
        form.validate(validategudanglist);
        form.valid();

        cekingsubmit = form.valid();

        if( cekingsubmit )
        {

            ceksubmitgudanglist(form);
        }

    });

    // validate bank list
    var validategudanglist = 
    {
        
        rules:{
            gudang_label:{
                required:!0,
                normalizer:r
            },
            address_array:{
                notnullhidden : '',
            },
            city:{
                required:!0,
                normalizer:r
            },
            gudang_address:{
                required:!0,
                normalizer:r,
                minlength:10
            },
            gudang_phone:{
                required:!0,
                normalizer:r,
                minlength:9
            },
            gudang_kodepos:{
                required:!0,
                normalizer:r,
                minlength:5
            }
        },
        messages:{
            gudang_label:'Harap isi terlebih dulu',
            address_array: "Harap pilih Kota atau Kecamatan",
            city: "Harap pilih Kota atau Kecamatan",
            gudang_address: "Harap isi sekurangnya 10 karakter",
            gudang_phone: "Harap isi sekurangnya 9 karakter",
            gudang_kodepos: "Isi kolom dengan benar"
        },
        errorPlacement:function(t,n)
        {
            $(n).parents('.ar-content').find('label.error').remove();
            $(n).parents('.ar-content').append(t);
        }
        
    }


    // cek submit form address
    function ceksubmitgudanglist(el)
    {
        var form = el,
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        card = $('body').find('.cmd-modal[data-target="#'+modal.attr('id')+'"]').parents('.card-body');


        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');

            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    console.log(n);
                    button.attr('role', 'off');
                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }

                    //reload in tab
                    listTabOrigin(n.list);
                    if( form.find('input[name="type"]').val() === 'add')
                    {
                        
                        modal.find('.area-ddwn button.btn span').html('Pilih Bank');
                        modal.find('button.cmd-clear-tsrc').removeAttr('style');
                        textDefEmpty(modal);
                    }
                    else
                    {
                        modal.find('button.close').click();
                    }


                },
                error: function(n)
                {
                    // console.log(n);
                    if( n.status === 401)
                    {
                        form.find('label.error').remove();
                        form.find('*[name="'+n.responseJSON.focus+'"]').addClass('error');
                        form.find('*[name="'+n.responseJSON.focus+'"]').parents('.ar-content').append('<label class="error">'+n.responseJSON.message+'</label>');
                        button.attr('role', 'off'); 
                        return;
                    }
                    

                    flagnotif('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off'); 

                }
            });

        }



    }


    //delete form
    $('#modaldelete form').submit( function()
    {
        var form = $(this),
        modal = form.parents('.new-modal.show'),
        button = modal.find('button.modal-submit'),
        r = modal.attr('data-action');

    
        if( button.attr('role') === 'off')
        {
            button.attr('role', 'on');

            $.ajax({
                type: 'POST',
                url: config.apps.URL_API + form.attr('action'),
                headers: {
                    'Content-Type': 'application/json',
                    'key': getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: formdatasend(form),
                dataType: 'JSON',
                success: function(n)
                {
                    // console.log(n);
                    modal.find('button.close').click();
                    var list = n.list;
                    eval(r + "(list)");

                    if( n.message !== '')
                    {
                        flagnotif('success', n.message);
                    }


                    

                },
                error: function(n)
                {
                    // console.log(n.responseJSON);
                    if( n.status === 404)
                    {
                        modal.find('button.close').click();
                        flagnotif('error', n.responseJSON.message);

                        return;
                    }
                    
                    var list = n.responseJSON.list;
                    eval(r + "(list)");

                    flagnotif('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                    button.attr('role', 'off'); 

                }
            });

        }

    });

    // BUTTON SLIDING ACTIVE/NON ANGKA UNIK
    $('body').on('click', '.cmd-endis-uniqnum', function(e)
    {
        e.preventDefault();

        var cmd = $(this),
        li = cmd.parents('li');

        if( cmd.attr('role') === 'off')
        {
            cmd.attr('role', 'on');

            $.ajax({
                type: "POST",
                url: config.apps.URL_API + '/api/manage-global/sunting/chuniqnum',
                headers: {
                    'Content-Type':'application/json',
                    'key':getaccount().key
                },
                cache: false,
                timeout: 18000,
                data: JSON.stringify({
                    'status':cmd.attr('slide'),
                    'company_id': getaccount().config.company_id
                }),
                dataType: 'JSON',
                success: function(n)
                {
                    if( cmd.attr('slide') === 'on' )
                    {
                        cmd.attr('slide', 'off');
                        li.find('.label-uniqnum').addClass('hide');
                        li.find('.label-totaluniqnum').html('Rp1000');
                    }
                    else {
                        cmd.attr('slide', 'on');
                        li.find('.label-uniqnum').removeClass('hide');
                        li.find('.label-totaluniqnum').html('Rp877');
                    }
                    // console.log(n);
                },
                error: function(n)
                {
                    flagnotif('error', 'Opss.. Terjadi kesalahan tidak diketahui. Refresh halaman kembali.');
                }
            })
            

            cmd.attr('role', 'off');
        }
    })


    // src text in tabing
    $('body').on('keyup', '.txt-srcpdp', function(e)
    {
        var txt = $(this),
        text = txt.val().toLowerCase(),
        area = txt.parents('.in-box');

        if( $.trim(txt.val()).length >= 1 )
        {
            area.find('ul li').addClass('hide');
            area.find('ul li').filter(function()
            {
                return $(this).find('.label-name').text().toLowerCase().indexOf(text) !== -1;

            }).removeClass('hide');
        }
        else
        {
            area.find('ul li').removeClass('hide');
        }
    })

    return false;
});
</script>
@endsection

